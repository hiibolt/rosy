BEGIN ;

{ Test 1: BREAK in a WHILE loop }
VARIABLE (RE) counter ;
counter := 0 ;

WHILE counter < 10 ;
  counter := counter + 1 ;
  WRITE 6 counter ;
  IF counter = 5 ;
    BREAK ;
  ENDIF ;
ENDWHILE ;

WRITE 6 'After while, counter =' counter ;

{ Test 2: BREAK in a LOOP }
VARIABLE (RE) total ;
total := 0 ;

LOOP I 1 20 ;
  total := total + I ;
  IF I = 7 ;
    BREAK ;
  ENDIF ;
ENDLOOP ;

WRITE 6 'After loop, total =' total ;

{ Test 3: BREAK only breaks innermost loop (nested LOOP in LOOP) }
VARIABLE (RE) outer_count ;
outer_count := 0 ;

LOOP J 1 3 ;
  outer_count := outer_count + 1 ;
  VARIABLE (RE) inner_count ;
  inner_count := 0 ;
  LOOP K 1 10 ;
    inner_count := inner_count + 1 ;
    IF K = 2 ;
      BREAK ;
    ENDIF ;
  ENDLOOP ;
  WRITE 6 'J =' J 'inner_count =' inner_count ;
ENDLOOP ;

WRITE 6 'outer_count =' outer_count ;

{ Test 4: BREAK only breaks innermost loop (WHILE inside LOOP) }
VARIABLE (RE) rounds ;
rounds := 0 ;

LOOP M 1 4 ;
  rounds := rounds + 1 ;
  VARIABLE (RE) w ;
  w := 0 ;
  WHILE w < 100 ;
    w := w + 1 ;
    IF w = 3 ;
      BREAK ;
    ENDIF ;
  ENDWHILE ;
  WRITE 6 'M =' M 'w =' w ;
ENDLOOP ;

WRITE 6 'rounds =' rounds ;

{ Test 5: BREAK inside nested IF within a loop }
VARIABLE (RE) found ;
found := 0 ;

LOOP N 1 10 ;
  IF N > 3 ;
    IF N = 6 ;
      found := N ;
      BREAK ;
    ENDIF ;
  ENDIF ;
ENDLOOP ;

WRITE 6 'found =' found ;

END ;
